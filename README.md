# ğŸ½ï¸ PFCZï¼ˆä»®ï¼‰

## ğŸ“Œ ã“ã®ã‚¢ãƒ—ãƒªã«ã¤ã„ã¦

æœ¬ã‚¢ãƒ—ãƒªã¯ã€æ—¥ã€…ã®**é£Ÿäº‹è¨˜éŒ²**ã‚’åŠ¹ç‡çš„ã«è¡Œã„ã€ãã®æƒ…å ±ã‚’æ´»ç”¨ã—ã¦**AIã‹ã‚‰ã®åŠ©è¨€**ã‚’å—ã‘ã‚‰ã‚Œã‚‹å¥åº·ç®¡ç†ã‚µãƒãƒ¼ãƒˆã‚¢ãƒ—ãƒªã§ã™ã€‚  
å…·ä½“çš„ã«ã¯ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒç™»éŒ²ã—ãŸé£Ÿæã‚„é£Ÿäº‹ã®å†…å®¹ã‚’å…ƒã«ã€ChatGPTã¨é€£æºã—ã€ã€Œæ‘‚å–ãƒãƒ©ãƒ³ã‚¹ã¯ã©ã†ã‹ã€ã€Œè¿½åŠ ã§ä½•ã‚’é£Ÿã¹ã‚‹ã¹ãã‹ã€ã€Œä»Šã®é£Ÿç”Ÿæ´»ã«åã‚Šã¯ã‚ã‚‹ã‹ã€ã¨ã„ã£ãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’ã‚‚ã‚‰ãˆã‚‹è¨­è¨ˆã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚  
ç¾æ™‚ç‚¹ã§ã¯é£Ÿäº‹è¨˜éŒ²ã¨ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã®é€£æºã‚’ä¸»ãªæ©Ÿèƒ½ã¨ã—ã€ä»Šå¾Œã¯ç¡çœ ãªã©ã®ä»–ã®å¥åº·ãƒ‡ãƒ¼ã‚¿ã‚‚çµ±åˆã—ã¦ã„ãäºˆå®šã§ã™ã€‚

---

## âœï¸ ä½œã£ãŸèƒŒæ™¯

äººé–“ã¯æ—¥ã€…ã€ç­‹ãƒˆãƒ¬ãƒ»é£Ÿäº‹ãƒ»ç¡çœ ãªã©ã€å¥åº·ã«é–¢ã‚ã‚‹ãƒ‡ãƒ¼ã‚¿ã‚’è¨˜éŒ²ã—ã¦ã„ã‚‹ã“ã¨ã‚‚å¤šã„ã§ã™ãŒã€ãã‚Œã‚‰ã¯ã€Œè¨˜éŒ²ã™ã‚‹ã ã‘ã€ã§çµ‚ã‚ã£ã¦ã—ã¾ã„ã€ååˆ†ã«æ´»ç”¨ã•ã‚Œã¦ã„ãªã„ã“ã¨ãŒå¤šã„ã¨æ„Ÿã˜ã¦ã„ã¾ã—ãŸã€‚  
ã›ã£ã‹ãæ‰‹é–“ã‚’ã‹ã‘ã¦è¨˜éŒ²ã—ã¦ã„ã‚‹ã®ã§ã‚ã‚Œã°ã€**AIã«ãã®ãƒ‡ãƒ¼ã‚¿ã‚’æ´»ã‹ã—ã¦ã‚‚ã‚‰ã„ã€æ—¥ã€…ã®ç”Ÿæ´»ã®è³ªå‘ä¸Šã«ã¤ãªã’ã‚‹ã“ã¨ãŒã§ãã‚‹ã®ã§ã¯ãªã„ã‹**ã¨è€ƒãˆã¾ã—ãŸã€‚

å®Ÿéš›ã€ChatGPTã®ã‚ˆã†ãªAIã‚’æ´»ç”¨ã™ã‚Œã°ã€ã€Œæ˜¨æ—¥ã®ç¡çœ ã«å¿œã˜ãŸãƒˆãƒ¬ãƒ¼ãƒ‹ãƒ³ã‚°å¼·åº¦ã€ã‚„ã€Œæœ€è¿‘ã®é£Ÿç”Ÿæ´»ã‹ã‚‰è¦‹ãŸæ „é¤Šãƒãƒ©ãƒ³ã‚¹ã€ãªã©ã€ä½“èª¿ã«å¿œã˜ãŸã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒå¯èƒ½ã§ã™ã€‚  
ãŸã ã—ã€ãã®ãŸã³ã«æ¯å›ãƒ‡ãƒ¼ã‚¿ã‚’å…¥åŠ›ã—ç›´ã™ã®ã¯**éå¸¸ã«é¢å€’**ã§ã™ã€‚ã“ã‚ŒãŒã€AIã®æ´»ç”¨ã‚’æ—¥å¸¸ã«å–ã‚Šå…¥ã‚Œã‚‹ã†ãˆã§ã®å¤§ããªéšœå£ã«ãªã£ã¦ã„ã‚‹ã¨æ„Ÿã˜ã¾ã—ãŸã€‚

ãã“ã§æ³¨ç›®ã—ãŸã®ãŒã€**éå»ã®æƒ…å ±ã‚’ã‚‚ã¨ã«ç”Ÿæˆçµæœã‚’è£œå¼·ã§ãã‚‹ã€ŒRAGã€**ã¨ã„ã†æŠ€è¡“ã§ã™ã€‚  
ã“ã®ä»•çµ„ã¿ã‚’å–ã‚Šå…¥ã‚Œã‚Œã°ã€**ä¸€åº¦è¨˜éŒ²ã—ã¦ãŠã„ãŸãƒ‡ãƒ¼ã‚¿ã‚’AIãŒè‡ªå‹•çš„ã«å‚ç…§ã—ã¦ãã‚Œã‚‹ãŸã‚ã€æ¯å›æƒ…å ±ã‚’æ¸¡ã™æ‰‹é–“ãŒçœã‘ã€ã‚ˆã‚Šè‡ªç„¶ãªå½¢ã§ã‚¢ãƒ‰ãƒã‚¤ã‚¹ã‚’å—ã‘å–ã‚‹ã“ã¨ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ã€‚**

ã“ã®ã‚¢ãƒ—ãƒªã§ã¯ã€ã¾ãšã¯ã€Œæ—¥ã€…ã®é£Ÿäº‹è¨˜éŒ²ã€ã¨ã€ŒAIã«ã‚ˆã‚‹åŠ©è¨€ã®è‡ªå‹•åŒ–ã€ã‚’è»¸ã«ã€ãã†ã—ãŸä½“é¨“ã‚’å®Ÿç¾ã™ã‚‹ç¬¬ä¸€æ­©ã¨ã—ã¦é–‹ç™ºã‚’é€²ã‚ã¦ã„ã¾ã™ã€‚

---

## ğŸ§© ä½¿ç”¨æŠ€è¡“

| ç›®çš„           | ä½¿ç”¨æŠ€è¡“                  |
|----------------|---------------------------|
| ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰ | SwiftUIï¼ˆiOSï¼‰            |
| ã‚°ãƒ©ãƒ•æç”»     | Swift Charts              |
| ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰   | Ruby on Railsï¼ˆäºˆå®šï¼‰     |
| DBç®¡ç†         | PostgreSQL + pgvectorï¼ˆäºˆå®šï¼‰ |
| AIé€£æº         | OpenAI APIï¼ˆäºˆå®šï¼‰        |

---

## ğŸ”® å°†æ¥çš„ãªæ©Ÿèƒ½æ§‹æƒ³

- âœ… éŸ³å£°å…¥åŠ›ã§é£Ÿæè¿½åŠ   
- âœ… ã‚«ãƒ¬ãƒ³ãƒ€ãƒ¼ã§æ—¥ä»˜ã”ã¨ã®è¨˜éŒ²è¡¨ç¤º  
- âœ… æ „é¤Šãƒãƒ©ãƒ³ã‚¹ã«åŸºã¥ã„ãŸGPTã®åŠ©è¨€  
- âœ… é£Ÿäº‹å‚¾å‘ã®åˆ†æã¨ã‚°ãƒ©ãƒ•åŒ–  
- âœ… Apple Watchãªã©ã¨ã®é€£æºï¼ˆç¡çœ ãƒ»æ´»å‹•ãƒ‡ãƒ¼ã‚¿ï¼‰  
- âœ… ç¶™ç¶šæ—¥æ•°ã®è¡¨ç¤ºã‚„ãƒªãƒã‚¤ãƒ³ãƒ€ãƒ¼é€šçŸ¥    
- âœ… ã‚ªãƒ•ãƒ©ã‚¤ãƒ³ä¿å­˜ã‚„ã‚¹ãƒãƒ›å†…ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã®æœ€é©åŒ–
---
## ğŸ“± ç”»é¢é·ç§»å›³ï¼ˆãƒ†ã‚­ã‚¹ãƒˆå½¢å¼ï¼‰
[ãƒ›ãƒ¼ãƒ ç”»é¢]
â”œâ”€â–¶ [ä¿å­˜ç”»é¢]
â”‚       â”œâ”€â–¶ å…¥åŠ›å†…å®¹ã‚’LLMã«é€ä¿¡ï¼ˆéŸ³å£°ãƒ»ãƒ†ã‚­ã‚¹ãƒˆï¼‰
â”‚       â”œâ”€â–¶ æ¨å®šã•ã‚ŒãŸé£Ÿæã®ç¢ºèªï¼ˆãƒã‚§ãƒƒã‚¯æ–¹å¼ï¼‰
â”‚       â”œâ”€â–¶ ãƒã‚§ãƒƒã‚¯OKï¼šè¨˜éŒ² â†’ DBä¿å­˜å‰ç¢ºèª â†’ ä¿å­˜
â”‚       â””â”€â–¶ ãƒã‚§ãƒƒã‚¯NGï¼šãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ‰‹å‹•ã§æˆåˆ†å…¥åŠ› â†’ DBä¿å­˜å‰ç¢ºèª â†’ ä¿å­˜
â””â”€â–¶ [é£Ÿæãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ç”»é¢]
â”œâ”€â–¶ ä¿å­˜ã•ã‚ŒãŸé£Ÿæä¸€è¦§
â””â”€â–¶ æ „é¤Šæƒ…å ±ã‚’è©³ç´°è¡¨ç¤ºï¼ˆæ „é¤Šæˆåˆ†ã¯è©³ç´°ãƒœã‚¿ãƒ³ã§å±•é–‹ï¼‰

## ğŸ—ï¸ ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£æ§‹æˆï¼ˆäºˆå®šï¼‰

```text
iOSã‚¢ãƒ—ãƒªï¼ˆSwiftUIï¼‰
        â†“
ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰APIï¼ˆRailsï¼‰
        â†“
PostgreSQL + pgvector
        â†“
OpenAI GPT-4 APIï¼ˆRAGæ§‹æˆï¼‰
        â†“
iOSã‚¢ãƒ—ãƒªã«ãƒ¬ã‚¹ãƒãƒ³ã‚¹
---

## ğŸ“ å®Ÿè£…æ¸ˆã¿æ©Ÿèƒ½ä¸€è¦§

- FlowLayout ã«ã‚ˆã‚‹ãƒãƒƒãƒ—è¤‡æ•°è¡Œè¡¨ç¤ºï¼ˆ3ã€œ4è¡Œã¾ã§ï¼‰  
- ScrollViewã§ç¸¦ã‚¹ã‚¯ãƒ­ãƒ¼ãƒ«å¯¾å¿œ  
- Chartã« `.easeInOut` ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³è¿½åŠ   
- `chartXScale(domain:)` ã«ã‚ˆã‚‹ã‚°ãƒ©ãƒ•ãƒãƒ¼ã®å·¦å¯„ã›ä¿®æ­£  

---

## ğŸ—’ï¸ è£œè¶³

- READMEã¯ä»–ã®å€‹äººé–‹ç™ºè€…ã®ãƒªãƒã‚¸ãƒˆãƒªã‚‚å‚è€ƒã«ã—ã¤ã¤æ”¹å–„ä¸­  
- GPTã®æ´»ç”¨æ–¹é‡ã¯ä»Šå¾Œã‚‚æ¤œè¨ãƒ»èª¿æ•´äºˆå®š  

---
 ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆ

  users

  | Column             | Type   | Options                   |
  |--------------------|--------|---------------------------|
  | uuid               | uuid   | unique: true, null: false |
  | app_user_id        | string | unique: true              |
  | name               | string | null: false               |
  | email              | string | null: false, unique: true |
  | encrypted_password | string | null: false               |
  | last_name          | string | null: false               |
  | first_name         | string | null: false               |
  | kana_last_name     | string | null: false               |
  | kana_first_name    | string | null: false               |
  | birthday           | date   | null: false               |

  Association: has_many :analysis_sessions

  ---
  analysis_sessions

  | Column          | Type       | Options                              |
  |-----------------|------------|--------------------------------------|
  | uuid            | uuid       | unique: true, null: false            |
  | user            | references | null: false, foreign_key: true       |
  | session_type    | string     | null: false (e.g. 'daily', 'weekly') |
  | start_date      | date       | null: false                          |
  | end_date        | date       | null: false                          |
  | status          | string     | default: 'pending'                   |
  | expires_at      | datetime   | null: false                          |
  | analysis_result | json       |                                      |

  Association:
  - belongs_to :user
  - has_many :food_entries, dependent: :destroy
  - has_many :sleep_records, dependent: :destroy
  - has_many :exercise_records, dependent: :destroy
  - has_many :health_metrics, dependent: :destroy

  ---
  food_entries

  | Column           | Type       | Options                              |
  |------------------|------------|--------------------------------------|
  | uuid             | uuid       | unique: true, null: false            |
  | analysis_session | references | null: false, foreign_key: true       |
  | food_name        | string     | null: false                          |
  | protein          | decimal    | precision: 6, scale: 2, null: false  |
  | fat              | decimal    | precision: 6, scale: 2, null: false  |
  | carbs            | decimal    | precision: 6, scale: 2, null: false  |
  | calories         | decimal    | precision: 7, scale: 2, null: false  |
  | quantity         | decimal    | precision: 5, scale: 2, default: 1.0 |
  | consumed_at      | datetime   | null: false                          |
  | meal_type        | string     | (e.g. 'breakfast', 'lunch', etc.)    |

  Association: belongs_to :analysis_session

  ---
  sleep_records

  | Column           | Type       | Options                        |
  |------------------|------------|--------------------------------|
  | uuid             | uuid       | unique: true, null: false      |
  | analysis_session | references | null: false, foreign_key: true |
  | sleep_start      | datetime   | null: false                    |
  | sleep_end        | datetime   | null: false                    |
  | duration_minutes | integer    | null: false                    |
  | quality_score    | integer    | (1ã€œ10ã‚¹ã‚±ãƒ¼ãƒ«)                     |
  | sleep_stages     | json       | (deep/light/REMãªã©ã®æ§‹é€ åŒ–ãƒ‡ãƒ¼ã‚¿)      |
  | recorded_date    | date       | null: false                    |

  Association: belongs_to :analysis_session

  ---
  exercise_records

  | Column           | Type       | Options                        |
  |------------------|------------|--------------------------------|
  | uuid             | uuid       | unique: true, null: false      |
  | analysis_session | references | null: false, foreign_key: true |
  | exercise_type    | string     | null: false                    |
  | duration_minutes | integer    | null: false                    |
  | intensity        | string     |                                |
  | calories_burned  | decimal    | precision: 6, scale: 2         |
  | distance_km      | decimal    | precision: 6, scale: 2         |
  | exercise_data    | json       | ï¼ˆå¿ƒæ‹æ•°ã‚„ãƒšãƒ¼ã‚¹ãªã©ï¼‰                    |
  | started_at       | datetime   | null: false                    |
  | ended_at         | datetime   | null: false                    |

  Association: belongs_to :analysis_session

  ---
  health_metrics

  | Column           | Type       | Options                             |
  |------------------|------------|-------------------------------------|
  | uuid             | uuid       | unique: true, null: false           |
  | analysis_session | references | null: false, foreign_key: true      |
  | metric_type      | string     | null: false ï¼ˆä¾‹: 'weight'ï¼‰           |
  | value            | decimal    | precision: 8, scale: 2, null: false |
  | unit             | string     | null: false ï¼ˆä¾‹: 'kg', '%'ï¼‰          |
  | measured_at      | datetime   | null: false                         |
  | notes            | text       |                                     |

  Association: belongs_to :analysis_session

