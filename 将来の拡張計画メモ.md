# 🚀 caropii 将来の拡張計画メモ

## 📅 記録日
2025年7月24日

## 🎯 忘れてはいけない重要な将来実装

### 🧬 **栄養素の大幅拡張**

#### 現在の栄養素（4項目）
- カロリー、タンパク質、脂質、炭水化物

#### 将来の完全版（24項目）
```
基本4項目: カロリー, タンパク質, 脂質, 炭水化物

ビタミン13種:
- A, B1, B2, B6, B12, C, D, E, K
- ナイアシン, 葉酸, パントテン酸, ビオチン

ミネラル7種:
- ナトリウム, カリウム, カルシウム, マグネシウム
- 鉄, 亜鉛, 食物繊維
```

### 📊 **データ量の爆発的増加**
```
現在: 1000食材 × 15文字 = 15,000トークン
完全版: 1000食材 × 85文字 = 85,000トークン
コスト増加: 約5.7倍（200円/回）
```

### 🔍 **必須の技術対応**

#### ベクトル検索システムの導入
```
目的: 1000食材から関連20食材のみを抽出
効果: 95%のトークン削減
実装: pgvector等のベクトルDB使用
```

#### 段階的分析レベル
```
基本分析: 4項目のみ（軽量・高速）
詳細分析: 24項目全て（重量・高精度）
```

## ⚠️ **実装時の注意事項**

### データベース設計
- 栄養素カラムの拡張を見越した設計
- 段階的追加が可能な構造

### プロンプト設計
- 現在は4項目前提で最適化
- 将来の24項目対応を考慮した拡張性

### コスト管理
- ベクトル検索なしでは運用不可能
- ユーザー選択制（基本 vs 詳細）の検討

## 🎖️ **就活でのアピールポイント**
- スケーラビリティを考慮した設計
- コスト最適化戦略
- 段階的実装による実用性確保

---

**重要度: 🔥最高**  
**実装優先度: 現在は保留、基本機能完成後に着手**  
**技術的依存: ベクトル検索システムが前提**

---
記録者: natatekoko + Claude Code